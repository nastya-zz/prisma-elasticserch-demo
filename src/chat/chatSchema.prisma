model Message {
  id       String @id @default(uuid())
  message  String
  author   User   @relation(fields: [authorId], references: [id])
  authorId Int

  readUserIds Int[]

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  Chat          Chat?           @relation(fields: [chatId], references: [id])
  chatId        String?
  Advertisement Advertisement[]

  @@map("message")
}

model Chat {
  id              String        @id @default(uuid())
  buyer           User          @relation(fields: [buyerId], references: [id])
  buyerId         Int
  sellerId        Int
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @default(now()) @updatedAt
  public          Boolean       @default(false)
  advertisementId Int
  Message         Message[]
  Advertisement   Advertisement @relation(fields: [advertisementId], references: [id])

  @@map("chat")
}

